---
layout: default
title: Contact — Reliable Store
---

<section class="hero-full" style="background:#fff;padding:30px 0;">
  <div class="hero-inner" style="max-width:1180px;margin:0 auto;">
    <h1>Contact Us</h1>
    <p>We're here to help! Reach out anytime.</p>
  </div>
</section>

<section class="full-bleed">
  <div class="full-bleed-inner" style="padding:20px; max-width:900px;margin:0 auto;">
    <h2>Send us a message</h2>

    <!-- ===== START: Contact form (complete) ===== -->
    <script>
      // <-- YOUR APPS SCRIPT WEB APP URL (already inserted) -->
      const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyTv5LvRsW-nUqCMcm3R8r5QKQUTonxCxH9byBEQ9mDEAtzv9mK-WnSROAx8oGc8dfIrg/exec";
    </script>

    <form id="contactForm" method="post" action="" target="_self" novalidate>
      <div style="display:flex;flex-direction:column;gap:12px;">

        <label>
          Name<br/>
          <input id="name" name="name" type="text" required minlength="3"
                 placeholder="Enter your full name"
                 style="width:100%;padding:10px;border:1px solid #ccc;border-radius:6px"/>
        </label>

        <label>
          Email<br/>
          <input id="email" name="email" type="email" required
                 placeholder="example@gmail.com"
                 style="width:100%;padding:10px;border:1px solid #ccc;border-radius:6px"/>
        </label>

        <label>
          Phone (10 digits)<br/>
          <input id="phone" name="phone" type="tel" required pattern="^[0-9]{10}$"
                 placeholder="10-digit mobile number"
                 title="Please enter a 10-digit number (digits only)"
                 style="width:100%;padding:10px;border:1px solid #ccc;border-radius:6px"/>
        </label>

        <label>
          Message<br/>
          <textarea id="message" name="message" rows="5" required
                    style="width:100%;padding:10px;border:1px solid #ccc;border-radius:6px"></textarea>
        </label>

        <!-- hidden fields for IP and user agent -->
        <input type="hidden" name="clientIp" id="clientIp" value="">
        <input type="hidden" name="userAgent" id="userAgent" value="">

        <!-- visible status & debug (non-intrusive) -->
        <div id="ipDebug" style="font-size:13px;color:#666;min-height:18px;"></div>

        <div style="display:flex;gap:12px;align-items:center">
          <button id="sendBtn" type="button"
                  style="background:#ff8c00;color:#fff;padding:10px 16px;border:0;border-radius:6px;cursor:pointer">
            Send Message
          </button>

          <div id="formStatus" style="color:green;font-weight:600;display:none;">✔ Thanks — message sent.</div>
          <div id="formError" style="color:#b40;font-weight:600;display:none;"></div>
        </div>
      </div>
    </form>

    <!-- hidden iframe for Apps Script response -->
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

    <noscript style="color:#b40;margin-top:10px;">
      JavaScript is required to submit the form. Please enable JavaScript or contact us at
      <a href="mailto:contact@reliablestore.in">contact@reliablestore.in</a>.
    </noscript>
    <!-- ===== END: Contact form ===== -->

  </div>
</section>

<script>
(function(){
  // fill userAgent immediately
  const uaEl = document.getElementById('userAgent');
  if (uaEl) uaEl.value = navigator.userAgent || '';

  const ipEl = document.getElementById('clientIp');
  const ipDebug = document.getElementById('ipDebug');
  const sendBtn = document.getElementById('sendBtn');
  const form = document.getElementById('contactForm');
  const statusEl = document.getElementById('formStatus');
  const errorEl = document.getElementById('formError');

  function validateForm() {
    errorEl.style.display = 'none';
    errorEl.textContent = '';
    // browser validation
    if (!form.checkValidity()) {
      form.reportValidity();
      return false;
    }
    return true;
  }

  async function fetchIp() {
    const services = [
      'https://api.ipify.org?format=json',
      'https://ifconfig.co/json'
    ];
    for (const url of services) {
      try {
        const res = await fetch(url, {cache:'no-store'});
        if (!res.ok) continue;
        const j = await res.json();
        const ip = j.ip || j.ip_address || j.query || j.ipAddress || j.address;
        if (ip) {
          if (ipEl) ipEl.value = ip;
          ipDebug.textContent = 'Detected IP: ' + ip + ' (via ' + url + ')';
          console.log('IP fetched', url, ip);
          return ip;
        }
      } catch (err) {
        console.warn('IP fetch failed', url, err);
      }
    }
    ipDebug.textContent = 'IP fetch not available (blocked by browser or network).';
    return '';
  }

  // prefetch IP
  fetchIp();

  sendBtn.addEventListener('click', async function () {
    statusEl.style.display = 'none';
    errorEl.style.display = 'none';
    if (!validateForm()) return;

    // ensure WEB_APP_URL exists
    if (!window.WEB_APP_URL && (typeof WEB_APP_URL === 'undefined' || WEB_APP_URL === "")) {
      errorEl.textContent = 'Missing web app URL. Please set WEB_APP_URL in the HTML.';
      errorEl.style.display = 'block';
      return;
    }

    // set action
    form.action = WEB_APP_URL;

    sendBtn.disabled = true;
    sendBtn.textContent = 'Sending...';

    if (ipEl && !ipEl.value) {
      const start = Date.now();
      while (!ipEl.value && Date.now() - start < 3000) {
        await new Promise(r => setTimeout(r, 200));
      }
    }

    console.log('Submitting with clientIp=', ipEl ? ipEl.value : '(no clientIp)');

    form.submit();

    const onLoad = function () {
      statusEl.style.display = 'inline-block';
      sendBtn.disabled = false;
      sendBtn.textContent = 'Send Message';
      form.reset();
      if (uaEl) uaEl.value = navigator.userAgent || '';
      fetchIp();
      setTimeout(()=> statusEl.style.display='none', 5000);
      document.getElementById('hidden_iframe').removeEventListener('load', onLoad);
    };

    document.getElementById('hidden_iframe').addEventListener('load', onLoad);
  });

})();
</script>

<style>
  @media (max-width:600px) {
    .full-bleed-inner { padding:12px !important; }
    #sendBtn { width:100%; }
  }
</style>
